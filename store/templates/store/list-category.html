{% extends "./base.html" %}
{% load static %}
{% load humanize %}

{% block content %}

<style>
  
  .product-grid {
    display: grid;
    grid-template-columns: repeat(5, minmax(0, 1fr)); /* 5 sản phẩm / hàng */
    gap: 20px;
  }

  .product-card {
    background: #fff;
    border-radius: .5rem;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    overflow: hidden;
    transition: transform .2s ease;
  }

  .product-card:hover {
    transform: translateY(-4px);
  }

  .product-card img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    display: block;
  }

  .product-card .card-body {
    padding: .9rem;
  }
  .product-card .btn {
  font-size: 13px;
  padding: 6px 10px;
  width: 100%;
}

.d-flex.gap-2>* {
  flex: 1;
}

  /* Responsive */
  @media(max-width:1200px){
    .product-grid { grid-template-columns: repeat(4, 1fr); }
  }
  @media(max-width:992px){
    .product-grid { grid-template-columns: repeat(3, 1fr); }
  }
  @media(max-width:768px){
    .product-grid { grid-template-columns: repeat(2, 1fr); }
  }
  @media(max-width:480px){
    .product-grid { grid-template-columns: repeat(1, 1fr); }
  }
</style>

<main>
  <div class="album py-5 bg-light" style="margin-top:30px;">
    <div class="container">

      <div class="pb-3 h5">{{ category.name|capfirst }}</div>
      <hr><br>

      <div class="product-grid">

        {% for product in products %}
        <div class="product-card">
  <a href="{{ product.get_absolute_url }}">
    <img src="{{ product.image.url }}" alt="{{ product.title }}">
  </a>

  <div class="card-body">
    <p class="card-text mb-2">
      <a class="text-info text-decoration-none"
         href="{{ product.get_absolute_url }}">
         {{ product.title }}
      </a>
    </p>

    <h5 class="mb-2">{{ product.price|intcomma }} VND</h5>

    <div class="d-flex gap-2">
      <button class="btn btn-primary btn-sm add-cart-btn" data-id="{{ product.id }}">
        <i class="fa-solid fa-cart-plus"></i> Thêm
      </button>

      <a class="btn btn-outline-primary btn-sm" href="{{ product.get_absolute_url }}">
        <i class="fa-solid fa-eye"></i> 
      </a>
    </div>
  </div>
</div>

        {% endfor %}

      </div>

    </div>
  </div>
</main>

{% endblock %}